pragma solidity 0.5.12;
contract Safe{
	mapping (address => uint256) balance;

	//Checks - Effects - Interactions - (correct/throw error )

	function withdrawAll() public{
		require(balance[msg.sender] > 0);

		uint256 toWithdraw = balance[msg.sender];

		balance[msg.sender] = 0;

		msg.sender.transfer(toWithdraw);  

		//or 
		
		send ();
		if (!success){
			balance[msg.sender] = toWithdraw;
		}
	}
}